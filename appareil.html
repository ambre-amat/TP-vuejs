<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<title>Domotique</title>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<h2>Les Appareils</h2>
				<ul class="list-group" id="app" >
					<li v-for="(e, index) in tableau" 
						class="list-group-item"
						v-bind:class="{list-group-item-danger:getEteint(index),
						  list-group-item-success:getAllume(index)}" 
						 class="list-group-item list-group-item-danger">
						<h4>{{e.nom}} -- {{e.status}}</h4>
						<button @click="allumer()" class="btn btn-success"> ON</button>
						<button @click="etient()" class="ml-2 btn btn-danger" > OFF</button>
					</li>
				</ul>
				<br>
				<button class="btn btn-success" @click="allumerTous">ALL ON</button>
				<button  class="ml-2 btn btn-danger" @click="eteintTous">ALL OFF</button>

			</div>
		</div>

		<div>
			<div class="form-group">
				<input  class="form-control" v-model="nom" placeholder="Nom de l'appareil">
			</div>
			<div class="form-group">
				<select name="status" id="status-select"  v-model="status" >
					<option value="allume">Allum√©</option>
					<option value="eteint">Eteint</option>
				</select>
			</div>
			</div>
			<button @click="ajouter()" class=" btn btn-success">
				<i class="fa fa-plus"></i>
			</button>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script>
		const app = new Vue(
			{
				el:'#app',
			data :{
				tableau: [{ nom:'TV',status:'allume'},
							{ nom:'Xbox',status:'eteint'},
							{ nom:'PlayStation',status:'allume'},],
				nom:"",
			},
			methods:{
				getAllume(i){
					if(this.tableau[i].status=="alume"){
						return true
					}
					else{
						return false
					}
				},
				getEtient(i){
					if(this.tableau[i].status=="eteint"){
						return true
					}
					else{
						return false
					}
				},
				ajouter(){
					let e ={}
					e.nom = this.nom
					e.status = this.status
					this.nom=''
					this.status=''
					this.tableau.push(e)
				},
				allumer(i){
					this.tableau[i].status="allume"
				},
				eteint(i){
					this.tableau[i].status="etient"
				},
				allumerTous(){
					for(let appareil of this.tableau){
						appareil.status='allume'
					}
				},
				eteintTous(){
					for(let appareil of this.tableau){
						appareil.status='etient'
					}
				}
			}
			}
		)
	</script>
</body>
</html>